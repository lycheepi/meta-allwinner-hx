#@TYPE: Machine
#@NAME: rervision-dvk-h3
#@DESCRIPTION: Machine configuration for the rervision-dvk-h3, base on allwinner H3 CPU

require conf/machine/include/sun8i.inc

# KERNEL_DEVICETREE is already set in sun8i.inc to support the overlays
# and SUNXI_KERNEL_DEVICETREE will be appended to KERNEL_DEVICETREE
SUNXI_KERNEL_DEVICETREE = "sun8i-h3-rervision-dvk.dtb"
UBOOT_CONFIG = "rervision_dvk_h3_defconfig"

DEFAULT_OVERLAYS = ""
MODULES = ""
MODULES_BLACKLIST = ""

MACHINE_FEATURES_append ?= "wifi"
IMAGE_INSTALL_append ?= "util-linux ffmpeg simcom-wwan minicom dhcp-server \
                         dhcp-client p7zip python3-pip bmap-tools ntp v4l-utils \
                         paho-mqtt-cpp libpng opencv opencv-samples swupdate \
                         swupdate-www"

LICENSE_FLAGS_WHITELIST += "commercial"
MACHINE_EXTRA_RRECOMMENDS += "kernel-module-simcomwwan"
ROOT_EXTRA_SPACE = "1024"
# SUNXI_STORAGE_DEVICE_sun8i = "mmcblk2"

IMAGE_FSTYPES += " ext4.gz"
# PREFERRED_PROVIDER_u-boot-fw-utils = "libubootenv"
